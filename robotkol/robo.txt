#include <Servo.h>

Servo motor1;   // Pot ile kontrol
Servo motor2;   // Joystick Y
Servo motor3;   // Joystick X

int pos2 = 90;
int pos3 = 90;

int joyY = A1;   // Joystick Y ekseni
int joyX = A0;   // Joystick X ekseni
int potPin = A2; // Motor1 i√ßin pot

void setup() {
  motor1.attach(9);
  motor2.attach(10);
  motor3.attach(11);
}

void loop() {

  // ---- MOTOR 1: Potansiyometre kontrol ----
  int potVal = analogRead(potPin);         // 0 - 1023
  int angle1 = map(potVal, 0, 1023, 0, 180); // 0-180 derece
  motor1.write(angle1);

  // ---- JOYSTICK OKUMALARI ----
  int yVal = analogRead(joyY);
  int xVal = analogRead(joyX);

  // ---- MOTOR 2 (Y ekseni) ----
  if (yVal < 450) pos2 += 1;
  else if (yVal > 570) pos2 -= 1;

  if (pos2 > 180) pos2 = 180;
  if (pos2 < 0) pos2 = 0;

  motor2.write(pos2);

  // ---- MOTOR 3 (X ekseni) ----
  if (xVal < 450) pos3 += 1;
  else if (xVal > 570) pos3 -= 1;

  if (pos3 > 180) pos3 = 180;
  if (pos3 < 0) pos3 = 0;

  motor3.write(pos3);

  delay(15);
}
